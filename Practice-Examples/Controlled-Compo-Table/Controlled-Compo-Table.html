<html>
    <head>
        <title>
            Mutyam ==> Controlled-Compo-Table 
        </title>

              
        <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    </head>

    <body>

        <div id="root">

        </div>

        <script type="text/babel">

              var userDetails = [
                                {
                                    firstName : "Bhargav",
                                    lastName : 'Mutyam',
                                    age : 21,
                                    salary : 25000,
                                    gender : "male"
                                },
                                {
                                    firstName : "Roja",
                                    lastName : 'Rani',
                                    age : 30,
                                    salary : 45000,
                                    gender : "female"
                                },
                                {
                                    firstName : "Mahesh",
                                    lastName : 'Babu',
                                    age : 35,
                                    salary : 80000,
                                    gender : "male"
                                }
                                , {
                                    firstName : "Parvathi",
                                    lastName : 'Melton',
                                    age : 30,
                                    salary : 56000,
                                    gender : "female"
                                }, {
                                    firstName : "Raj",
                                    lastName : 'Kumar',
                                    age : 35,
                                    salary : 90000,
                                    gender : "male"
                                }, {
                                    firstName : "Bhoomika",
                                    lastName : 'Chowla',
                                    age : 41,
                                    salary : 95000,
                                    gender : "female"
                                },
                                {
                                    firstName : "Bhushan",
                                    lastName : 'Kumar',
                                    age : 41,
                                    salary : 100000,
                                    gender : "male"
                                }
                                ]

                 function ContCompTable()
                 {
                    const [obj, setObj] = React.useState([...userDetails])
                    const [newData, setNewData] = React.useState({
                                firstName : '',
                                lastName : '',
                                age : '',
                                salary : '',
                                gender : ''
                    })

                    function getFirstName(fName)
                    {
                        newData.firstName = fName 
                    }

                    function getLastName(lName)
                    {
                        newData.lastName =lName
                    }

                    function getAge(ag)
                    {
                         newData.age = ag
                    }

                    function getSalary(sal)
                    {
                         newData.salary = sal
                    }

                    function getGender(gen)
                    {
                         newData.gender = gen
                    }

                    
                    function add()
                    {
                         setObj([...obj, {...newData}])
                         console.log(newData)
                    }

                    return(
                        <div>
                           <FirstName fName = {getFirstName}></FirstName>
                           <LastName lName = {getLastName}></LastName>
                           <Age age = {getAge}></Age>
                           <Salary salary = {getSalary}></Salary>
                           <Gender gender  = {getGender}></Gender>
                           <Display ob = {obj} add = {add}/>
                        </div>
                    )
                 }

                 ReactDOM.render(<ContCompTable/>, document.getElementById("root"))

                 

                 function FirstName(props)
                 {
                    const [fName , setFname] = React.useState('')

                    function handleFirstName(e)
                    {
                        setFname(e.target.value)
                    }
                     
                    props.fName(fName)

                    return (
                        <div>
                          First Name :  <input type="text" onChange = {handleFirstName}/>
                        </div>
                    )
                 }

                 function LastName(props)
                 {
                    const [lName, setLName] = React.useState('')

                    function handleLastName(e)
                    {
                        setLName(e.target.value)
                    }

                    props.lName(lName)

                    return (
                        <div>
                            Last Name : <input type="text" onChange = {handleLastName}/>
                        </div>
                    )
                 }

                 function Age(props)
                 {
                    const [ag, setAg] = React.useState('')

                    function handleAge(e)
                    {
                        setAg(e.target.value)
                    }

                    props.age(ag)

                    return (
                        <div>
                          Age :  <input type="text" onChange = {handleAge}/>
                        </div>
                    )
                 }

                 function Salary(props)
                 {
                    const [sal, setSal] = React.useState("")

                    function handleSalary(e)
                    {
                        setSal(e.target.value)
                    }

                    props.salary(sal)

                    return (
                        <div>
                          Salary :   <input type="text" onChange = {handleSalary}/>
                        </div>
                    )
                 }

                 function Gender(props)
                 {
                    const [gen, setGen] = React.useState('')

                    function handleGender(e)
                    {
                        setGen(e.target.value)
                    }

                    props.gender(gen)

                    return (
                        <div>
                          Gender :  <input type="text" onChange = {handleGender}/>
                        </div>
                    )
                 }

                 function Display(props)
                 {
                   
                    return (
                        <div>
                            <button onClick = {props.add}>Add Student</button>
                            <h1>React Students</h1>

                            <table border = "">
                                <thead>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Age</th>
                                    <th>Salary</th>
                                    <th>Gender</th>
                                </thead>

                                <tbody>
                                    {
                                        props.ob.map((el)=>{
                                            return (
                                               <tr>
                                                  <td>{el.firstName}</td>
                                                  <td>{el.lastName}</td>
                                                  <td>{el.age}</td>
                                                  <td>{el.salary}</td>
                                                  <td>{el.gender}</td>
                                               </tr>
                                            )
                                        })
                                    }
                                </tbody>
                            </table>
                        </div>
                    )
                 }
             

        </script>

    </body>
</html>