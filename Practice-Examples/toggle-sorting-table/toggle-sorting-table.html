<html>
    <head>
        <title>
            Mutyam ==> toggle-sorting-table
        </title>

                       
        <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>


        <style>
            .mainDiv{
                border : 2px solid black;
                width : fit-content;
                padding:15px;
                margin: auto;
            }
        </style>
    </head>

    <body>

        <div id="root">

        </div>


        <body>
            
            <script type="text/babel">

                  var userDetails = [
                                {
                                    firstName : "Bhargav",
                                    lastName : 'Mutyam',
                                    age : 21,
                                    salary : 25000,
                                    gender : "male"
                                },
                                {
                                    firstName : "Roja",
                                    lastName : 'Rani',
                                    age : 30,
                                    salary : 45000,
                                    gender : "female"
                                },
                                {
                                    firstName : "Mahesh",
                                    lastName : 'Babu',
                                    age : 35,
                                    salary : 80000,
                                    gender : "male"
                                }
                                , {
                                    firstName : "Parvathi",
                                    lastName : 'Melton',
                                    age : 30,
                                    salary : 56000,
                                    gender : "female"
                                }, {
                                    firstName : "Raj",
                                    lastName : 'Kumar',
                                    age : 35,
                                    salary : 90000,
                                    gender : "male"
                                }, {
                                    firstName : "Bhoomika",
                                    lastName : 'Chowla',
                                    age : 41,
                                    salary : 95000,
                                    gender : "female"
                                },
                                {
                                    firstName : "Bhushan",
                                    lastName : 'Kumar',
                                    age : 41,
                                    salary : 100000,
                                    gender : "male"
                                }
                                ]


                    function MainCompo()
                    {

                        const [d, setD] = React.useState([...userDetails])
                        const [change,setChange] = React.useState('asc')

                        function handleSort(valKey)
                        {
                                 if(change == "asc")
                                 {
                                    var temp = [...d]
                                    temp.sort((a,b)=>{
                                       return a[valKey] > b[valKey] ? 1 : -1
                                     })
                                    setD([...temp])
                                    setChange('desc')

                                 }
                                 else 
                                 {
                                    var temp = [...d]
                                    temp.sort((a,b)=>{
                                        return a[valKey] > b[valKey] ? -1 : 1
                                    })
                                    setD([...temp])
                                    setChange('asc')
                                 }

                        }

              
                        return(
                            <div className = "mainDiv">
                                <h1>Students</h1>

                                <table border="">
                                    <thead>
                                        <th onClick = {()=>{handleSort('firstName')}}>FirstName</th>
                                        <th onClick = {()=>{handleSort('lastName')}}>LastName</th>
                                        <th onClick = {()=>{handleSort('gender')}}>Gender</th>
                                    </thead>

                                    <tbody>
                                        {
                                            d.map((el)=>{
                                                return (
                                                    <tr>
                                                        <td>{el.firstName}</td>
                                                        <td>{el.lastName}</td>
                                                        <td>{el.gender}</td>
                                                    </tr>
                                                )
                                            })
                                        }
                                    </tbody>
                                </table>

                            </div>
                        )
                    }

                    ReactDOM.render(<MainCompo/>, document.getElementById('root'))

            </script>

        </body>

    </body>
</html>